{"version":3,"sources":["services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getPersons","a","axios","get","request","data","createPerson","newPerson","post","updatePerson","id","put","deletePerson","delete","Persons","showPersons","map","person","key","className","name","number","onClick","PersonForm","addName","newName","handleNewName","newNumber","handleNewNumber","onSubmit","value","onChange","type","Filter","filter","handlefilter","Notification","errorMessage","successMessage","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setErrorMessage","setSuccessMessage","useEffect","personService","then","initialData","catch","error","setTimeout","event","preventDefault","nameObject","foundPerson","find","window","confirm","newData","concat","response","toLowerCase","includes","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a592c19a.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getPersons = async () => {\n\tconst request = await axios.get(baseUrl);\n\treturn request.data;\n};\n\nconst createPerson = async newPerson => {\n\tconst request = await axios.post(baseUrl, newPerson);\n\treturn request.data;\n};\n\nconst updatePerson = async (id, newPerson) => {\n\tconst request = await axios.put(`${baseUrl}/${id}`, newPerson);\n\treturn request.data;\n};\n\nconst deletePerson = async id => {\n\treturn await axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default {getPersons, createPerson, updatePerson, deletePerson};","import React from 'react';\n\nconst Persons = ({ showPersons, deletePerson }) => {\n\treturn (showPersons.map(person => {\n\t\treturn (\n\t\t\t<div key={person.id} className='person'>\n\t\t\t\t<span>{person.name}</span> &nbsp;\n\t\t\t\t<span>{person.number}</span> &nbsp;\n\t\t\t\t<button onClick={()=>deletePerson(person.id)}>delete</button>\n\t\t\t</div>\n\t\t)\n\t\t})\n\t)\n}\n\nexport default Persons;","import React from \"react\";\n\nconst PersonForm = ({addName, newName, handleNewName, newNumber, handleNewNumber}) => {\n\treturn (\n\t\t<form onSubmit={addName} >\n\t\t\t<div className='personform'>\n\t\t\t\tname: <input value={newName}\n\t\t\t\tonChange={handleNewName} />\n\t\t\t</div>\n\t\t\t<div className='personform'>\n\t\t\t\tnumber: <input value={newNumber}\n\t\t\t\tonChange={handleNewNumber} />\n\t\t\t</div>\n\t\t\t<div className='personform'>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ({filter, handlefilter}) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input value={filter}\n\t\t\tonChange={handlefilter} />\n\t\t</div>\n\t)\n}\n\nexport default Filter;","import React from 'react';\n\nconst Notification = ({ errorMessage, successMessage }) => {\n\tif (errorMessage === null && successMessage === null) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={`${ errorMessage === null ? 'error2' : 'error1' }`}>\n\t\t\t<p>{ errorMessage === null ? successMessage : errorMessage }</p>\n\t\t</div>\n\t)\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [ errorMessage, setErrorMessage ] = useState(null);\n  const [ successMessage, setSuccessMessage ] = useState(null);\n\n  useEffect(()=>{\n\tpersonService\n\t.getPersons()\n\t.then(initialData => {\n\t\tsetPersons(initialData);\n\t})\n\t.catch(error => {\n\t\tsetErrorMessage(\n\t\t\t`There was an error retrieving the phonebook from server, please try again later`\n\t\t  );\n\t\t  setTimeout(() => {\n\t\t\tsetErrorMessage(null);\n\t\t  }, 5000);\n\t});\n  }, []);\n\n  const addName = async (event) => {\n\t  event.preventDefault();\n\t  const nameObject = {\n\t\t  name: newName,\n\t\t  number: newNumber\n\t  };\n\n\t  const foundPerson = persons.find(person => person.name === newName);\n\n\t  if (foundPerson) {\n\t\t  if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t  try {\n\t\t\t\tconst newData = await personService.updatePerson(foundPerson.id, nameObject);\n\t\t\t\tif (newData) {\n\t\t\t\t\tsetSuccessMessage(`Updated ${newName}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t  setSuccessMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\tsetPersons(persons.map(person => person.name !== foundPerson.name ? person : newData));\n\t\t\t\t  }\n\t\t\t  } catch(error) {\n\t\t\t\tsetErrorMessage(\n\t\t\t\t\t`${newName} was already removed from server`\n\t\t\t\t  );\n\t\t\t\t  setTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t  }, 5000);\n\t\t\t\tsetPersons(persons.filter(person => person.id !== foundPerson.id));\n\t\t\t\t}\n\t\t  }\n\t  } else {\n\t\t\ttry {\n\t\t\t\tconst newData = await personService.createPerson(nameObject);\n\t\t\t\tif (newData) {\n\t\t\t\t\tsetSuccessMessage(`Added ${newData.name}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSuccessMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\tsetPersons(persons.concat(newData));\n\t\t\t\t}\n\t\t\t} catch(error) {\n\t\t\t\tsetErrorMessage(\n\t\t\t\t\terror.response.data.error\n\t\t\t\t  );\n\t\t\t\t  setTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t  }, 5000);\n\t\t\t}\n\t  }\n\n\t  setNewName('');\n\t  setNewNumber('');\n  };\n\n  const deleteName = (id) => {\n\tconst foundPerson = persons.find(person => id === person.id);\n\tif (window.confirm(`Delete ${foundPerson.name}?`)) {\n\t\tpersonService\n\t\t.deletePerson(id)\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tsetPersons(persons.filter(person => id !== person.id));\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tsetErrorMessage(\n\t\t\t\t`${foundPerson.name} was already removed from server`\n\t\t\t  );\n\t\t\t  setTimeout(() => {\n\t\t\t\tsetErrorMessage(null);\n\t\t\t  }, 5000);\n\t\t\tsetPersons(persons.filter(person => person.id !== id));\n\t\t});\n\t}\n  };\n\n  const handleNewName = (event) => {\n\t  setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n\tsetNewNumber(event.target.value);\n  };\n\n  const handlefilter = (event) => {\n\t  setFilter(event.target.value);\n  };\n\n  const showPersons = !filter ? persons : (\n\t  persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\t  );\n\n  return (\n    <div>\n\t\t<h1>Phonebook</h1>\n\t\t<Notification errorMessage={errorMessage} successMessage={successMessage} />\n\t\t<Filter \n\t\t\tfilter={filter} handlefilter={handlefilter}\n\t\t/>\n\t\t<h2>Add a new</h2>\n\t\t<PersonForm \n\t\t\taddName={addName} newName={newName} newNumber={newNumber}\n\t\t\thandleNewName={handleNewName} handleNewNumber={handleNewNumber}\n\t\t/>\n\t\t<h2>Numbers</h2>\n\t\t<Persons showPersons={showPersons} deletePerson={deleteName} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render( <App />, document.getElementById('root'));\n"],"sourceRoot":""}